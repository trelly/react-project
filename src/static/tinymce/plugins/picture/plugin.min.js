tinymce.PluginManager.add('picture', function(editor, url) {
    // 图片上传dialog
    var panel = function(editor) {
        editor.windowManager.open({
            title: '图片',
            width: 652,
            height: 520,
            spacing: 10,
            url: './libs/tinymce/dialog/picture/index.html'
        });
    };
    editor.addCommand('picture', function(ui, data) {
        tinymce.each(data, function(v, k) {
            var img = editor.dom.createHTML('img', {
                src: v,
                alt: 'img'
            });
            editor.insertContent(img);
        });
    });

    editor.addButton('picture', {
        icon: 'picture',
        title: '图片',
        onclick: function() {
            panel(editor);
            editor.execCommand('picture', true, ['http://p3.pstatp.com/large/9df000710a8d9c99bf2', 'http://p3.pstatp.com/thumb/e30007e6bbbf2cd1a1']);
        }
    });
});
