tinymce.PluginManager.add('commodity', function(editor, url) {
    var panel = function(editor) {
        editor.windowManager.open({
            title: '添加商品',
            width: 602,
            height: 180,
            spacing: 10,
            url: '/static/resource/pgc_ueditor/dialogs/commodity/commodity.html?'
            // body: [{
            //     label: '商品链接',
            //     type: 'textbox',
            //     name: "url",
            //     placeholder: '商品地址'
            // }],
            // onsubmit: function(e) {
            //     e.preventDefault();
            //     $.post('/article/get_title_by_url/', {
            //         url: e.data.url
            //     }).done(function(json) {
            //         if (json.message) {
            //             editor.notificationManager.open({
            //                 type: 'error',
            //                 text: json.reason,
            //                 timeout: 2000
            //             });
            //         } else {
            //             var data = json.serialize(json);
            //             editor.insertContent(data);
            //             this.close();
            //         }
            //     }).fail(function(data) {
            //         alert(1);
            //     });
            // }
        });
    };
    editor.addButton('commodity', {
        icon: 'commodity',
        title: '商品',
        onclick: function() {
            panel(editor);
        }
    });
});
